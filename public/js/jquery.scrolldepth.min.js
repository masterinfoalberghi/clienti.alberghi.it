!function(e,n,t){"use strict";var o,r,i,l,a={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0,gaGlobal:!1,gtmOverride:!1},c=e(n),p=[],u=!1,h=0;e.scrollDepth=function(s){function g(e,t,a,c){l?(l({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:t,eventValue:1,eventNonInteraction:s.nonInteraction}),s.pixelDepth&&arguments.length>2&&a>h&&(h=a,l({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:m(a),eventValue:1,eventNonInteraction:s.nonInteraction})),s.userTiming&&arguments.length>3&&l({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:e,eventLabel:t,eventTiming:c})):(o&&(n[i]("send","event","Scroll Depth",e,t,1,{nonInteraction:s.nonInteraction}),s.pixelDepth&&arguments.length>2&&a>h&&(h=a,n[i]("send","event","Scroll Depth","Pixel Depth",m(a),1,{nonInteraction:s.nonInteraction})),s.userTiming&&arguments.length>3&&n[i]("send","timing","Scroll Depth",e,c,t)),r&&(_gaq.push(["_trackEvent","Scroll Depth",e,t,1,s.nonInteraction]),s.pixelDepth&&arguments.length>2&&a>h&&(h=a,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",m(a),1,s.nonInteraction])),s.userTiming&&arguments.length>3&&_gaq.push(["_trackTiming","Scroll Depth",e,c,t,100])))}function f(e){return{"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5}}function v(n,t,o){e.each(n,function(n,r){-1===e.inArray(n,p)&&t>=r&&(g("Percentage",n,t,o),p.push(n))})}function D(n,t,o){e.each(n,function(n,r){-1===e.inArray(r,p)&&e(r).length&&t>=e(r).offset().top&&(g("Elements",r,t,o),p.push(r))})}function m(e){return(250*Math.floor(e/250)).toString()}function d(){I()}function y(e,n){var t,o,r,i=null,l=0,a=function(){l=new Date,i=null,r=e.apply(t,o)};return function(){var c=new Date;l||(l=c);var p=n-(c-l);return t=this,o=arguments,0>=p?(clearTimeout(i),i=null,l=c,r=e.apply(t,o)):i||(i=setTimeout(a,p)),r}}function I(){u=!0,c.on("scroll.scrollDepth",y(function(){var o=e(t).height(),r=n.innerHeight?n.innerHeight:c.height(),i=c.scrollTop()+r,l=f(o),a=+new Date-S;return p.length>=s.elements.length+(s.percentage?4:0)?(c.off("scroll.scrollDepth"),void(u=!1)):(s.elements&&D(s.elements,i,a),void(s.percentage&&v(l,i,a)))},500))}var S=+new Date;s=e.extend({},a,s),e(t).height()<s.minHeight||(s.gaGlobal?(o=!0,i=s.gaGlobal):"function"==typeof ga?(o=!0,i="ga"):"function"==typeof __gaTracker&&(o=!0,i="__gaTracker"),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(r=!0),"function"==typeof s.eventHandler?l=s.eventHandler:"undefined"==typeof dataLayer||"function"!=typeof dataLayer.push||s.gtmOverride||(l=function(e){dataLayer.push(e)}),e.scrollDepth.reset=function(){p=[],h=0,c.off("scroll.scrollDepth"),I()},e.scrollDepth.addElements=function(n){"undefined"!=typeof n&&e.isArray(n)&&(e.merge(s.elements,n),u||I())},e.scrollDepth.removeElements=function(n){"undefined"!=typeof n&&e.isArray(n)&&e.each(n,function(n,t){var o=e.inArray(t,s.elements),r=e.inArray(t,p);-1!=o&&s.elements.splice(o,1),-1!=r&&p.splice(r,1)})},d())}}(jQuery,window,document);